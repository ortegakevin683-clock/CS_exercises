<!DOCTYPE html>
<html>
    <head>
        <title>localStorage - Stampa Completa</title>
    </head>
    <body>
        <h2>Elenco Completo Anagrafica 5.0</h2>
        <div id="cont"></div>
        
        <script>
            let par;
            let co = document.getElementById("cont");
            let s = JSON.parse(localStorage.getItem("elenco"));

            if (s && s.length > 0) {
                for(i=0; i<s.length; i++){
                    par = document.createElement("p");
                    
                    // Costruiamo una stringa che contiene TUTTI i dati dell'anagrafica
                    par.textContent = (i+1) + ") " + 
                        s[i].nome + " " + s[i].cognome + " | " +
                        "Città: " + s[i].citta + " (" + s[i].provincia + "), CAP: " + s[i].cap + " | " +
                        "Nato il: " + s[i].dataNascita + " (Età: " + s[i].eta + ", " + s[i].generazione + ") | " +
                        "Sesso: " + s[i].sesso + " | " +
                        "Mezzi: " + (s[i].mezzi.length > 0 ? s[i].mezzi.join(", ") : "Nessuno") + " | " +
                        "Materie: " + (s[i].materie.length > 0 ? s[i].materie.join(", ") : "Nessuna");
                    
                    co.appendChild(par);
                }
            } else {
                co.innerHTML = "<p>L'elenco è vuoto.</p>";
            }
        </script>

        <br>
        <a href="anagrafica5.0.html">Torna all'inserimento</a>
        <br><br>
        <button onclick="localStorage.clear(); location.reload();">Svuota tutto l'elenco</button>
    </body>
</html>
